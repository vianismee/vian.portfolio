---
import BlogLink from "../components/BlogLink.astro";
import Email from "../components/emailCopy.astro";
import MainLayout from "../layout/MainLayout.astro";
const posts = await Astro.glob("../pages/blog/post/*.md");
---

<MainLayout PageTitle="About">
  <!-- Profile -->
  <section class="bg-zinc-800 h-screen">
    <BlogLink />
    <div class="p-10 grid justify-center">
      <div class="grid place-items-center">
        <div
          class="bg-[#131313] lg:h-[605px] lg:w-[1242px] h-[600px] w-screen lg:rounded-[47px] lg:border-[4px] border-neutral-700 lg:py-[61px] lg:pl-[80px] pt-10 text-white"
        >
          <article
            class="lg:h-[670px] lg:w-[800px] h-full w-full flex flex-col space-y-[40px]"
          >
            <p
              class="text-[#818181] lg:text-4xl text-xl text-center lg:text-left font-medium"
            >
              welcome,
            </p>
            <h1
              class="lg:text-[64px] text-3xl text-center lg:text-left font-bold font-roboto -leading-4 lg:leading-[70px]"
            >
              <span id="text" class="typing-animation">Hallo,</span> Aku <span
                class="gradient"
                >Vian
              </span>
              <br />
              dari ProDev ke WebDev
            </h1>
            <p
              class="lg:text-2xl text-md lg:w-[600px] w-full px-6 lg:px-0 text-center lg:text-left font-normal tracking-wide lg:leading-9 font-roboto"
            >
              Aku seorang yang berkecimpung di dunia Skincare & Cosmetic, yang
              ingin swift careers ke programing, Salam Kenal Semua.
            </p>
            <div class="lg:flex grid gap-10 mx-auto lg:mx-0">
              <button
                class="bg-gradient-to-bl from-blue-700 to-sky-500 rounded-full px-[20px] py-[11px] font-semibold text-xl hover:bg-white"
              >
                Explore More
              </button>
              <Email />
            </div>
          </article>
        </div>
      </div>
    </div>
  </section>
  <!-- End Profile -->
  <!-- Blog -->
  <section class="h-screen bg-zinc-800">
    <div class="grid text-white font-roboto">
      <h1 class="text-3xl lg:text-[64px] font-bold mb-20">Blog</h1>
      <div class="grid grid-cols-3 gap-10">
        {
          posts.slice(0, 3).map((post) => (
            <a href={post.url}>
              <div class="group">
                <div class="overflow-hidden rounded-2xl">
                  <div class="group-hover:scale-125 transition-all ease-in-out">
                    <img src={post.frontmatter.img} alt="" />
                  </div>
                </div>
                <article class="font-roboto mt-5 pl-2">
                  <h1 class="group-hover:text-blue-400 font-bold text-4xl">
                    {post.frontmatter.title}
                  </h1>
                  <div class="inline-flex justify-center items-center gap-3 mb-0 mt-3">
                    <div>
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        width="24"
                        height="24"
                        viewBox="0 0 24 24"
                        fill="none"
                        stroke="#a1a1aa"
                        stroke-width="2"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        class="lucide lucide-calendar"
                      >
                        <>
                          <path d="M8 2v4" />
                          <path d="M16 2v4" />
                          <rect width="18" height="18" x="3" y="4" rx="2" />
                          <path d="M3 10h18" />
                        </>
                      </svg>
                    </div>
                    <h2 class="text-zinc-400 text-xl">
                      {post.frontmatter.pubDate}
                    </h2>
                  </div>
                </article>
              </div>
            </a>
          ))
        }
      </div>
    </div>
    <!-- End Blog -->
  </section>
  <!-- Typing Text Effect -->
  <script type="module">
    const texts = [
      "Hallo,",
      "Konichiwa,",
      "Hej,",
      "Annyeong,",
      "Hoi,",
      "Ola,",
      "Salut,",
      "Ciao,",
    ];
    let index = 0;
    let isDeleting = false;
    let currentText = "";
    let typingSpeed = 100; // Kecepatan mengetik (dalam milidetik)

    function type() {
      const text = texts[index];
      if (isDeleting) {
        currentText = text.substring(0, currentText.length - 1);
      } else {
        currentText = text.substring(0, currentText.length + 1);
      }
      document.getElementById("text").textContent = currentText;
      let typeSpeed = typingSpeed;
      if (isDeleting) {
        typeSpeed /= 2; // Menghapus dua kali lebih cepat
      }

      if (!isDeleting && currentText === text) {
        typeSpeed = 2500; // Jeda setelah selesai mengetik
        isDeleting = true;
      } else if (isDeleting && currentText === "") {
        isDeleting = false;
        index = (index + 1) % texts.length;
      }

      setTimeout(type, typeSpeed);
    }

    window.onload = function () {
      type();
    };
  </script>
</MainLayout>
